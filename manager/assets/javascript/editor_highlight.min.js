var EditorHighlight={box:null,textarea:null,editorParent:null,editorBoxContent:null,editorContent:null,editorBoxLine:null,editorBoxCursor:null,cursorColumn:0,cursorRow:0,textLineBreakCount:0,init:function(t,e,i,o,n,r){EditorHighlight.box=document.getElementById(t),EditorHighlight.editorParent=document.getElementById(e),EditorHighlight.editorBoxContent=document.getElementById(i),EditorHighlight.editorContent=document.getElementById(o),EditorHighlight.editorBoxLine=document.getElementById(n),EditorHighlight.editorBoxCursor=document.getElementById(r),EditorHighlight.initBoxEditor(),EditorHighlight.initBindEvent(),EditorHighlight.initText(),EditorHighlight.initCursor()},initBoxEditor:function(){EditorHighlight.box},initBindEvent:function(){EditorHighlight.editorContent.removeEventListener("mousedown",EditorHighlight.mouseDownEditorBox),EditorHighlight.editorContent.addEventListener("mousedown",EditorHighlight.mouseDownEditorBox)},initText:function(){var t="",e=EditorHighlight.editorContent.innerHTML;e=e.split(/(?:\r\n|\r|\n)/g);for(var i=1;i<=e.length;++i)t+="<span>"+i+"</span>";EditorHighlight.textLineBreakCount=e.length,EditorHighlight.editorBoxLine.innerHTML=t},initCursor:function(){clearInterval(EditorHighlight.intervalCursor),setInterval(EditorHighlight.intervalCursor,500)},intervalCursor:function(){var t=parseInt(EditorHighlight.editorBoxCursor.style.opacity);EditorHighlight.editorBoxCursor.style.opacity=1===t?0:1},mouseDownEditorBox:function(){document.addEventListener("mouseup",EditorHighlight.mouseUpDocument)},mouseUpDocument:function(){document.removeEventListener("mouseup",EditorHighlight.mouseUpDocument)},focusTextarea:function(){},keydownTextera:function(t){console.log("keydownTextera"),console.log(t),console.log(EditorHighlight.textarea.selectionStart),console.log(EditorHighlight.textarea.selectionEnd)},keyupTextera:function(t){console.log("keyupTextera"),console.log(t.keyCode),console.log(EditorHighlight.textarea.selectionStart),console.log(EditorHighlight.textarea.selectionEnd)},scrollTextera:function(){console.log("Scroll")},clickTextarea:function(){console.log("clickTextarea"),console.log(EditorHighlight.textarea.selectionStart),console.log(EditorHighlight.textarea.selectionEnd),EditorHighlight.repositionCursor(EditorHighlight.textarea.selectionStart,EditorHighlight.textarea.selectionEnd)},repositionCursor:function(t,e){var i=EditorHighlight.textarea,o=EditorHighlight.selection,n=EditorHighlight.rangeTextarea;bounds=n.getBoundingClientRect(),i.__boundingTop=bounds.top,i.__boundingLeft=bounds.left,i.__boundingWidth=bounds.width,i.__boundingHeight=bounds.height;var r=bounds.y+i.scrollTop-i.__boundingTop,l=bounds.x+i.scrollLeft-i.__boundingLeft;i.__line=r/i.__boundingHeight+1,i.__cloumn=l/i.__boundingWidth+1,console.log(i.__line),console.log(i.__cloumn),console.log(o),console.log(bounds)},getSelection:function(){if(null!=EditorHighlight.selection)return EditorHighlight.selection;var t=document.selection||window.getSelection&&window.getSelection();return t&&(EditorHighlight.selection=t),t},createRange:function(){if(null!=EditorHighlight.rangeTextarea)return EditorHighlight.rangeTextarea;var t=document.selection&&document.selection.createRange()||document.createRange&&document.createRange();return EditorHighlight.textarea&&t.selectNode(EditorHighlight.textarea),t&&(EditorHighlight.rangeTextarea=t),t},getTexteareOffsetWidth:function(){return EditorHighlight.textarea.offsetWidth},getTexteareOffsetHeight:function(){return EditorHighlight.textarea.offsetHeight},getTexteareScrollWidth:function(){return EditorHighlight.textarea.scrollWidth},getTexteareScrollHeight:function(){return EditorHighlight.textarea.scrollHeight}};