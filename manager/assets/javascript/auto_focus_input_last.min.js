var AutoFocusInputLast={elements:[],execute:function(){var t=document.getElementsByTagName("input"),e=document.getElementsByTagName("textarea");if(void 0!==t&&t.length>0)for(n=0;n<t.length;++n){var o=t[n];if(o.type){var u=o.type;"text"!==u&&"password"!==u&&"number"!==u||(AutoFocusInputLast.elements.push(o),AutoFocusInputLast.addListener(o))}}if(void 0!==e&&e.length>0)for(var n=0;n<e.length;++n)AutoFocusInputLast.elements.push(e[n]),AutoFocusInputLast.addListener(e[n]);AutoFocusInputLast.autoFocusOnHastagUrl(!0)},addListener:function(t){t.addEventListener("focus",function(){AutoFocusInputLast.addHastagToForm(t)})},autoFocusOnHastagUrl:function(){var t=window.location.href;if(null!==t&&t.length>0){var e=t.lastIndexOf("#"),o=null;-1!==e?(o=t.substring(e+1),AutoFocusInputLast.cleanAutoFocusElement(),AutoFocusInputLast.putAutoFocusElementName(o,!0)):AutoFocusInputLast.elements.length&&AutoFocusInputLast.elements.length>0&&(AutoFocusInputLast.cleanAutoFocusElement(),AutoFocusInputLast.putAutoFocusElement(AutoFocusInputLast.elements[0]))}},addHastagToForm:function(t){if(t.form&&void 0!==t.form){var e=null,o=window.location.href,u=t.name;if(t.form.getAttribute?e=t.form.getAttribute("action"):t.form.getAttributeNode&&(e=t.form.getAttributeNode("action")),null!==e&&e.length>0){var n=e.lastIndexOf("#");-1!==n&&(e=e.substring(0,n))}if(null!==o&&o.length>0){var s=o.lastIndexOf("#");-1!==s&&(o=o.substring(0,s))}void 0!==u&&null!==u&&(u=t.tagName.toLowerCase()+"_"+u),t.form.action=e+"#"+u,window.location.href=e+"#"+u,AutoFocusInputLast.cleanAutoFocusElement(),AutoFocusInputLast.putAutoFocusElement(t)}},cleanAutoFocusElement:function(){if(!(void 0===AutoFocusInputLast.elements&&AutoFocusInputLast.elements.length<=0))for(var t=0;t<AutoFocusInputLast.elements.length;++t){var e=AutoFocusInputLast.elements[t];e.removeAttribute?e.removeAttribute("autofocus","autofocus"):e.removeAttributeNode&&e.removeAttributeNode("autofocus","autofocus")}},putAutoFocusElement:function(t,e){if(t.setAttribute?t.setAttribute("autofocus","autofocus"):t.setAttributeNode&&t.setAttributeNode("autofocus","autofocus"),t.focus(),e){var o=document.documentElement||document.body,u=window.pageYOffset||o.scrollTop,n=t.offsetTop+t.form.offsetTop;u>n&&(o.scrollTop=n)}},putAutoFocusElementName:function(t,e){if(!(void 0===AutoFocusInputLast.elements&&AutoFocusInputLast.elements.length<=0))for(var o=0;o<AutoFocusInputLast.elements.length;++o){var u=AutoFocusInputLast.elements[o],n=u.name;(n=void 0!==n&&null!==n?u.tagName.toLowerCase()+"_"+n:u.tagName.toLowerCase())===t&&AutoFocusInputLast.putAutoFocusElement(u,e)}}};"undefined"!=typeof OnLoad&&OnLoad.add?OnLoad.add(AutoFocusInputLast.execute):window.onload=AutoFocusInputLast.execute;